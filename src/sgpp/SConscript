# Copyright (C) 2009 Technische Universitaet Muenchen
# This file is part of the SG++ project. For conditions of distribution and
# use, please see the copyright notice at http://www5.in.tum.de/SGpp

# author Dirk Pflueger (Dirk.Pflueger@in.tum.de)

Import("env")


srcs = Split("""
base/datatypes/DataVector.cpp
base/datatypes/DataVectorSP.cpp
base/datatypes/DataMatrix.cpp
base/datatypes/DataMatrixSP.cpp

base/tools/AlignedMemory.cpp
base/tools/OperationQuadratureMC.hpp

base/grid/Grid.cpp
base/grid/GridDataBase.cpp

base/grid/common/BoundingBox.cpp
base/grid/common/Stretching.cpp
base/grid/common/DirichletUpdateVector.cpp
base/grid/common/DirichletGridConverter.cpp
base/grid/combination/FullGrid.cpp
base/grid/combination/FullGridSet.cpp
base/grid/combination/LinearFullGrid.cpp

combigrid/basisfunction/CombiLinearBasisFunction.cpp
combigrid/combigrid/SerialCombiGrid.cpp
combigrid/combigrid/AdaptiveSerialCombiGrid.cpp
combigrid/combigrid/AdaptiveSerialCombiGridVariableCoefficients.cpp
combigrid/combischeme/CombiS_CT.cpp  
combigrid/combischeme/CombiSchemeBasis.cpp  
combigrid/combischeme/CombiTS_CT.cpp
combigrid/combischeme/CombiArbitraryScheme.cpp
combigrid/converter/CombiSGppConverter.cpp
combigrid/domain/CombiDomain1D.cpp
combigrid/domain/CombiGridDomain.cpp
combigrid/domain/CombiUniformStretching.cpp
combigrid/domain/CombiTanStretching.cpp
combigrid/domain/CombiAtanSpecialStretching.cpp
combigrid/utils/CombigridLevelVector.cpp

base/grid/type/LinearBoundaryGrid.cpp
base/grid/type/LinearTrapezoidBoundaryGrid.cpp
base/grid/type/LinearStretchedTrapezoidBoundaryGrid.cpp
base/grid/type/LinearGrid.cpp
base/grid/type/LinearStretchedGrid.cpp
base/grid/type/ModLinearGrid.cpp
base/grid/type/PolyGrid.cpp
base/grid/type/ModPolyGrid.cpp
base/grid/type/ModWaveletGrid.cpp
base/grid/type/ModBsplineGrid.cpp
base/grid/type/SquareRootGrid.cpp
base/grid/type/TruncatedTrapezoidGrid.cpp
base/grid/type/PrewaveletGrid.cpp

base/grid/generation/StandardGridGenerator.cpp
base/grid/generation/BoundaryGridGenerator.cpp
base/grid/generation/TrapezoidBoundaryGridGenerator.cpp
base/grid/generation/StretchedTrapezoidBoundaryGridGenerator.cpp
base/grid/generation/SquareRootGridGenerator.cpp
base/grid/generation/TruncatedTrapezoidGridGenerator.cpp
base/grid/generation/SurplusRefinementFunctor.cpp
base/grid/generation/SurplusVolumeRefinementFunctor.cpp
base/grid/generation/SurplusCoarseningFunctor.cpp
base/grid/generation/PrewaveletGridGenerator.cpp

base/basis/linear/noboundary/operation/OperationMultipleEvalLinear.cpp
basis/linear/noboundary/operation/datadriven/OperationMultipleEvalIterativeSSELinear.cpp
basis/linear/noboundary/operation/datadriven/OperationMultipleEvalIterativeSPSSELinear.cpp
basis/linear/noboundary/operation/datadriven/OperationMultipleEvalIterativeAVXLinear.cpp
basis/linear/noboundary/operation/datadriven/OperationMultipleEvalIterativeSPAVXLinear.cpp
datadriven/basis/linear/noboundary/operation/OperationTestLinear.cpp
base/basis/linear/noboundary/operation/OperationEvalLinear.cpp
base/basis/linear/noboundary/operation/OperationHierarchisationLinear.cpp
base/basis/linear/noboundary/operation/OperationQuadratureLinear.cpp
base/basis/linear/noboundary/operation/OperationFirstMomentLinear.cpp
base/basis/linear/boundary/operation/OperationQuadratureLinearBoundary.cpp
pde/basis/linear/noboundary/operation/OperationLTwoDotProductLinear.cpp
finance/basis/linear/noboundary/operation/pde/OperationLBLinear.cpp
finance/basis/linear/noboundary/operation/pde/OperationLDLinear.cpp
finance/basis/linear/noboundary/operation/pde/OperationLELinear.cpp
finance/basis/linear/noboundary/operation/pde/OperationLFLinear.cpp
pde/basis/linear/noboundary/operation/OperationLaplaceLinear.cpp
finance/basis/linear/noboundary/operation/pde/OperationDeltaLinear.cpp
finance/basis/linear/noboundary/operation/pde/OperationGammaLinear.cpp
finance/basis/linear/noboundary/operation/pde/OperationDeltaLogLinear.cpp
finance/basis/linear/noboundary/operation/pde/OperationGammaLogLinear.cpp

base/basis/linear/noboundary/algorithm_sweep/DehierarchisationLinear.cpp
base/basis/linear/noboundary/algorithm_sweep/HierarchisationLinear.cpp
pde/basis/linear/noboundary/algorithm_sweep/PhiPhiDownBBLinear.cpp
pde/basis/linear/noboundary/algorithm_sweep/PhiPhiUpBBLinear.cpp
finance/basis/linear/noboundary/algorithm_sweep/SqXdPhidPhiDownBBLinear.cpp
finance/basis/linear/noboundary/algorithm_sweep/SqXdPhidPhiUpBBLinear.cpp
finance/basis/linear/noboundary/algorithm_sweep/XdPhiPhiDownBBLinear.cpp
finance/basis/linear/noboundary/algorithm_sweep/XdPhiPhiUpBBLinear.cpp
finance/basis/linear/noboundary/algorithm_sweep/XPhidPhiDownBBLinear.cpp
finance/basis/linear/noboundary/algorithm_sweep/XPhidPhiUpBBLinear.cpp
finance/basis/linear/noboundary/algorithm_sweep/DPhiPhiDownBBLinear.cpp
finance/basis/linear/noboundary/algorithm_sweep/DPhiPhiUpBBLinear.cpp
finance/basis/linear/noboundary/algorithm_sweep/PhidPhiDownBBLinear.cpp
finance/basis/linear/noboundary/algorithm_sweep/PhidPhiUpBBLinear.cpp
finance/basis/linear/noboundary/algorithm_sweep/XPhiPhiDownBBLinear.cpp
finance/basis/linear/noboundary/algorithm_sweep/XPhiPhiUpBBLinear.cpp

pde/basis/linear/noboundary/DowndPhidPhiBBIterativeLinear.cpp

base/basis/linear/boundary/operation/OperationHierarchisationLinearBoundary.cpp
base/basis/linear/boundary/operation/OperationEvalLinearBoundary.cpp
pde/basis/linear/boundary/operation/OperationUpDownTestLinearBoundary.cpp
base/basis/linear/boundary/operation/OperationMultipleEvalLinearBoundary.cpp
datadriven/basis/linear/boundary/operation/OperationTestLinearBoundary.cpp
finance/basis/linear/boundary/operation/OperationDeltaLinearBoundary.cpp
finance/basis/linear/boundary/operation/OperationGammaLinearBoundary.cpp
finance/basis/linear/boundary/operation/OperationDeltaLogLinearBoundary.cpp
finance/basis/linear/boundary/operation/OperationGammaLogLinearBoundary.cpp
finance/basis/linear/boundary/operation/OperationLBLinearBoundary.cpp
finance/basis/linear/boundary/operation/OperationLDLinearBoundary.cpp
finance/basis/linear/boundary/operation/OperationLELinearBoundary.cpp
finance/basis/linear/boundary/operation/OperationLFLinearBoundary.cpp
pde/basis/linear/boundary/operation/OperationLTwoDotProductLinearBoundary.cpp
pde/basis/linear/boundary/operation/OperationLaplaceLinearBoundary.cpp

base/basis/linear/boundary/algorithm_sweep/DehierarchisationLinearBoundary.cpp
base/basis/linear/boundary/algorithm_sweep/HierarchisationLinearBoundary.cpp
pde/basis/linear/boundary/algorithm_sweep/PhiPhiDownBBLinearBoundary.cpp
pde/basis/linear/boundary/algorithm_sweep/PhiPhiUpBBLinearBoundary.cpp
finance/basis/linear/boundary/algorithm_sweep/SqXdPhidPhiDownBBLinearBoundary.cpp
finance/basis/linear/boundary/algorithm_sweep/SqXdPhidPhiUpBBLinearBoundary.cpp
finance/basis/linear/boundary/algorithm_sweep/XdPhiPhiDownBBLinearBoundary.cpp
finance/basis/linear/boundary/algorithm_sweep/XdPhiPhiUpBBLinearBoundary.cpp
finance/basis/linear/boundary/algorithm_sweep/XPhidPhiDownBBLinearBoundary.cpp
finance/basis/linear/boundary/algorithm_sweep/XPhidPhiUpBBLinearBoundary.cpp
finance/basis/linear/boundary/algorithm_sweep/DPhiPhiDownBBLinearBoundary.cpp
finance/basis/linear/boundary/algorithm_sweep/DPhiPhiUpBBLinearBoundary.cpp
finance/basis/linear/boundary/algorithm_sweep/PhidPhiDownBBLinearBoundary.cpp
finance/basis/linear/boundary/algorithm_sweep/PhidPhiUpBBLinearBoundary.cpp
finance/basis/linear/boundary/algorithm_sweep/XPhiPhiDownBBLinearBoundary.cpp
finance/basis/linear/boundary/algorithm_sweep/XPhiPhiUpBBLinearBoundary.cpp

pde/basis/linear/boundary/operation/DowndPhidPhiBBIterativeLinearBoundary.cpp
pde/basis/linear/boundary/operation/UpdPhidPhiBBIterativeLinearBoundary.cpp

base/basis/linearstretched/noboundary/operation/OperationMultipleEvalLinearStretched.cpp
datadriven/basis/linearstretched/noboundary/operation/OperationTestLinearStretched.cpp
base/basis/linearstretched/noboundary/operation/OperationEvalLinearStretched.cpp
base/basis/linearstretched/noboundary/operation/OperationHierarchisationLinearStretched.cpp
pde/basis/linearstretched/noboundary/operation/OperationLTwoDotProductLinearStretched.cpp
pde/basis/linearstretched/noboundary/operation/OperationLaplaceLinearStretched.cpp
finance/basis/linearstretched/noboundary/operation/OperationDeltaLinearStretched.cpp
finance/basis/linearstretched/noboundary/operation/OperationGammaLinearStretched.cpp
finance/basis/linearstretched/noboundary/operation/OperationDeltaLogLinearStretched.cpp
finance/basis/linearstretched/noboundary/operation/OperationGammaLogLinearStretched.cpp

base/basis/linearstretched/noboundary/algorithm_sweep/DehierarchisationLinearStretched.cpp
base/basis/linearstretched/noboundary/algorithm_sweep/HierarchisationLinearStretched.cpp
pde/basis/linearstretched/noboundary/algorithm_sweep/PhiPhiDownBBLinearStretched.cpp
pde/basis/linearstretched/noboundary/algorithm_sweep/PhiPhiUpBBLinearStretched.cpp
finance/basis/linearstretched/noboundary/algorithm_sweep/SqXdPhidPhiDownBBLinearStretched.cpp
finance/basis/linearstretched/noboundary/algorithm_sweep/SqXdPhidPhiUpBBLinearStretched.cpp
finance/basis/linearstretched/noboundary/algorithm_sweep/XdPhiPhiDownBBLinearStretched.cpp
finance/basis/linearstretched/noboundary/algorithm_sweep/XdPhiPhiUpBBLinearStretched.cpp
finance/basis/linearstretched/noboundary/algorithm_sweep/XPhidPhiDownBBLinearStretched.cpp
finance/basis/linearstretched/noboundary/algorithm_sweep/XPhidPhiUpBBLinearStretched.cpp
finance/basis/linearstretched/noboundary/algorithm_sweep/DPhiPhiDownBBLinearStretched.cpp
finance/basis/linearstretched/noboundary/algorithm_sweep/DPhiPhiUpBBLinearStretched.cpp
finance/basis/linearstretched/noboundary/algorithm_sweep/PhidPhiDownBBLinearStretched.cpp
finance/basis/linearstretched/noboundary/algorithm_sweep/PhidPhiUpBBLinearStretched.cpp

pde/basis/linearstretched/noboundary/DowndPhidPhiBBIterativeLinearStretched.cpp

base/basis/linearstretched/boundary/operation/OperationHierarchisationLinearStretchedBoundary.cpp
base/basis/linearstretched/boundary/operation/OperationEvalLinearStretchedBoundary.cpp
pde/basis/linearstretched/boundary/operation/OperationUpDownTestLinearStretchedBoundary.cpp
base/basis/linearstretched/boundary/operation/OperationMultipleEvalLinearStretchedBoundary.cpp
datadriven/basis/linearstretched/boundary/operation/OperationTestLinearStretchedBoundary.cpp
finance/basis/linearstretched/boundary/operation/OperationDeltaLinearStretchedBoundary.cpp
finance/basis/linearstretched/boundary/operation/OperationGammaLinearStretchedBoundary.cpp
finance/basis/linearstretched/boundary/operation/OperationDeltaLogLinearStretchedBoundary.cpp
finance/basis/linearstretched/boundary/operation/OperationGammaLogLinearStretchedBoundary.cpp
pde/basis/linearstretched/boundary/operation/OperationLTwoDotProductLinearStretchedBoundary.cpp
pde/basis/linearstretched/boundary/operation/OperationLaplaceLinearStretchedBoundary.cpp

base/basis/linearstretched/boundary/algorithm_sweep/DehierarchisationLinearStretchedBoundary.cpp
base/basis/linearstretched/boundary/algorithm_sweep/HierarchisationLinearStretchedBoundary.cpp
pde/basis/linearstretched/boundary/algorithm_sweep/PhiPhiDownBBLinearStretchedBoundary.cpp
pde/basis/linearstretched/boundary/algorithm_sweep/PhiPhiUpBBLinearStretchedBoundary.cpp
finance/basis/linearstretched/boundary/algorithm_sweep/SqXdPhidPhiDownBBLinearStretchedBoundary.cpp
finance/basis/linearstretched/boundary/algorithm_sweep/SqXdPhidPhiUpBBLinearStretchedBoundary.cpp
finance/basis/linearstretched/boundary/algorithm_sweep/XdPhiPhiDownBBLinearStretchedBoundary.cpp
finance/basis/linearstretched/boundary/algorithm_sweep/XdPhiPhiUpBBLinearStretchedBoundary.cpp
finance/basis/linearstretched/boundary/algorithm_sweep/XPhidPhiDownBBLinearStretchedBoundary.cpp
finance/basis/linearstretched/boundary/algorithm_sweep/XPhidPhiUpBBLinearStretchedBoundary.cpp
finance/basis/linearstretched/boundary/algorithm_sweep/DPhiPhiDownBBLinearStretchedBoundary.cpp
finance/basis/linearstretched/boundary/algorithm_sweep/DPhiPhiUpBBLinearStretchedBoundary.cpp
finance/basis/linearstretched/boundary/algorithm_sweep/PhidPhiDownBBLinearStretchedBoundary.cpp
finance/basis/linearstretched/boundary/algorithm_sweep/PhidPhiUpBBLinearStretchedBoundary.cpp

pde/basis/linearstretched/boundary/DowndPhidPhiBBIterativeLinearStretchedBoundary.cpp
pde/basis/linearstretched/boundary/UpdPhidPhiBBIterativeLinearStretchedBoundary.cpp

base/basis/modlinear/operation/OperationMultipleEvalModLinear.cpp

datadriven/basis/modlinear/operation/OperationTestModLinear.cpp
base/basis/modlinear/operation/OperationEvalModLinear.cpp
base/basis/modlinear/operation/OperationHierarchisationModLinear.cpp
pde/basis/modlinear/operation/OperationLaplaceModLinear.cpp

base/basis/modlinear/algorithm_sweep/DehierarchisationModLinear.cpp
base/basis/modlinear/algorithm_sweep/HierarchisationModLinear.cpp
pde/basis/modlinear/algorithm_sweep/dPhidPhiDownModLinear.cpp
pde/basis/modlinear/algorithm_sweep/dPhidPhiUpModLinear.cpp
pde/basis/modlinear/algorithm_sweep/PhiPhiDownModLinear.cpp
pde/basis/modlinear/algorithm_sweep/PhiPhiUpModLinear.cpp

base/basis/poly/operation/OperationMultipleEvalPoly.cpp
datadriven/basis/poly/operation/OperationTestPoly.cpp
base/basis/poly/operation/OperationEvalPoly.cpp
base/basis/poly/operation/OperationHierarchisationPoly.cpp
base/basis/poly/operation/OperationQuadraturePoly.cpp

base/basis/modpoly/operation/OperationMultipleEvalModPoly.cpp
datadriven/basis/modpoly/operation/OperationTestModPoly.cpp
base/basis/modpoly/operation/OperationEvalModPoly.cpp
base/basis/modpoly/operation/OperationHierarchisationModPoly.cpp

base/basis/modwavelet/operation/OperationMultipleEvalModWavelet.cpp
datadriven/basis/modwavelet/operation/OperationTestModWavelet.cpp
base/basis/modwavelet/operation/OperationEvalModWavelet.cpp
base/basis/modwavelet/operation/OperationHierarchisationModWavelet.cpp

base/basis/modbspline/operation/OperationMultipleEvalModBspline.cpp
datadriven/basis/modbspline/operation/OperationTestModBspline.cpp
base/basis/modbspline/operation/OperationEvalModBspline.cpp
base/basis/modbspline/operation/OperationHierarchisationModBspline.cpp

base/basis/prewavelet/operation/OperationMultipleEvalPrewavelet.cpp
datadriven/basis/prewavelet/operation/OperationTestPrewavelet.cpp
base/basis/prewavelet/operation/OperationEvalPrewavelet.cpp
base/basis/prewavelet/operation/OperationConvertPrewavelet.cpp
base/basis/prewavelet/operation/OperationHierarchisationPrewavelet.cpp

pde/operation/OperationParabolicPDESolverSystemDirichlet.cpp
pde/operation/OperationParabolicPDESolverSystemNeumann.cpp
pde/operation/OperationParabolicPDESolverSystem.cpp
pde/operation/OperationEllipticPDESolverSystem.cpp
pde/operation/OperationEllipticPDESolverSystemDirichlet.cpp
pde/operation/OperationEllipticPDESolverSystemNeumann.cpp

datadriven/algorithm/DMSystemMatrix.cpp
datadriven/algorithm/DMSystemMatrixVectorizedIdentity.cpp
datadriven/algorithm/DMSystemMatrixSPVectorizedIdentity.cpp
datadriven/algorithm/DMWeightMatrix.cpp
datadriven/algorithm/DMWeightMatrixVectorizedIdentity.cpp
datadriven/algorithm/AlgorithmAdaBoost.cpp

datadriven/algorithm/DMSystemMatrix.cpp

finance/algorithm/BlackScholesParabolicPDESolverSystem.cpp
finance/algorithm/ModifiedBlackScholesParabolicPDESolverSystem.cpp
finance/algorithm/HullWhiteParabolicPDESolverSystem.cpp
algorithm/pde/BlackScholesParabolicPDESolverSystemEuropean.cpp
algorithm/pde/BlackScholesParabolicPDESolverSystemEuropeanParallelOMP.cpp
pde/algorithm/HeatEquationParabolicPDESolverSystem.cpp
pde/algorithm/HeatEquationParabolicPDESolverSystemParallelOMP.cpp
pde/algorithm/LaserHeatEquationParabolicPDESolverSystemParallelOMP2D.cpp
pde/algorithm/PoissonEquationEllipticPDESolverSystemDirichlet.cpp
pde/algorithm/StdUpDown.cpp
pde/algorithm/UpDownOneOpDim.cpp
pde/algorithm/UpDownTwoOpDims.cpp
pde/algorithm/UpDownOneOpDimWithShadow.cpp

base/application/ScreenOutput.cpp
pde/application/PDESolver.cpp
pde/application/ParabolicPDESolver.cpp
pde/application/EllipticPDESolver.cpp
finance/application/BlackScholesSolver.cpp
finance/application/BlackScholesSolverWithStretching.cpp
finance/application/HullWhiteSolver.cpp
finance/application/BlackScholesHullWhiteSolver.cpp
pde/application/HeatEquationSolver.cpp
pde/application/HeatEquationSolverWithStretching.cpp
pde/application/LaserHeatEquationSolver2D.cpp
pde/application/PoissonEquationSolver.cpp
finance/application/VariableDiscountFactor.cpp

solver/sle/ConjugateGradients.cpp
solver/sle/ConjugateGradientsSP.cpp
solver/sle/BiCGStab.cpp
solver/ode/Euler.cpp
solver/ode/CrankNicolson.cpp
solver/ode/AdamsBashforth.cpp
solver/ode/VarTimestep.cpp
solver/ode/StepsizeControlH.cpp
solver/ode/StepsizeControlBDF.cpp
solver/ode/StepsizeControlEJ.cpp

base/tools/StdNormalDistribution.cpp
base/tools/GridPrinter.cpp
base/tools/GridPrinterForStretching.cpp
base/tools/SGppStopwatch.cpp
base/tools/EvalCuboidGenerator.cpp
base/tools/EvalCuboidGeneratorForStretching.cpp
base/tools/IOToolBonnSG.cpp

datadriven/operation/DatadrivenOpFactory.cpp
parallel/operation/ParallelOpFactory.cpp
finance/operation/FinanceOpFactory.cpp
pde/operation/PdeOpFactory.cpp
base/operation/BaseOpFactory.cpp
""")



sg_env = env.Clone()

sg_env.Append(CPPPATH=['#/src/sgpp'])

src_objs = sg_env.SharedObject(srcs)
Export('src_objs')

libsgpp = sg_env.SharedLibrary(target="sgpp", source = src_objs)
libsgppa = sg_env.StaticLibrary(target="sgpp", source = src_objs)
#libsgpp = sg_env.SharedLibrary(target="sgpp", source = srcs + src_objs, SHLIBPREFIX = '_')
Export('libsgpp')

Return('libsgpp libsgppa')
