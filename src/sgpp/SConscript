# Copyright (C) 2009 Technische Universitaet Muenchen
# This file is part of the SG++ project. For conditions of distribution and
# use, please see the copyright notice at http://www5.in.tum.de/SGpp

# author Dirk Pflueger (Dirk.Pflueger@in.tum.de)

Import("env")


srcs = Split("""
data/DataVector.cpp
data/DataVectorSP.cpp
data/DataMatrix.cpp
data/DataMatrixSP.cpp

common/AlignedMemory.cpp

grid/Grid.cpp
grid/GridDataBase.cpp

grid/common/BoundingBox.cpp
grid/common/Stretching.cpp
grid/common/DirichletUpdateVector.cpp
grid/common/DirichletGridConverter.cpp
grid/combination/FullGrid.cpp
grid/combination/FullGridSet.cpp
grid/combination/LinearFullGrid.cpp

combigrid/basisfunction/CombiLinearBasisFunction.cpp
combigrid/combigrid/SerialCombiGrid.cpp
combigrid/combischeme/CombiS_CT.cpp  
combigrid/combischeme/CombiSchemeBasis.cpp  
combigrid/combischeme/CombiTS_CT.cpp
combigrid/combischeme/CombiArbitraryScheme.cpp
combigrid/converter/CombiSGppConverter.cpp
combigrid/domain/CombiDomain1D.cpp
combigrid/domain/CombiGridDomain.cpp
combigrid/domain/CombiUniformStretching.cpp
combigrid/domain/CombiTanStretching.cpp
combigrid/domain/CombiAtanSpecialStretching.cpp
combigrid/utils/CombigridLevelVector.cpp

grid/type/LinearBoundaryGrid.cpp
grid/type/LinearTrapezoidBoundaryGrid.cpp
grid/type/LinearStretchedTrapezoidBoundaryGrid.cpp
grid/type/LinearGrid.cpp
grid/type/LinearStretchedGrid.cpp
grid/type/ModLinearGrid.cpp
grid/type/PolyGrid.cpp
grid/type/ModPolyGrid.cpp
grid/type/ModWaveletGrid.cpp
grid/type/ModBsplineGrid.cpp
grid/type/SquareRootGrid.cpp
grid/type/TruncatedTrapezoidGrid.cpp
grid/type/PrewaveletGrid.cpp

grid/generation/StandardGridGenerator.cpp
grid/generation/BoundaryGridGenerator.cpp
grid/generation/TrapezoidBoundaryGridGenerator.cpp
grid/generation/StretchedTrapezoidBoundaryGridGenerator.cpp
grid/generation/SquareRootGridGenerator.cpp
grid/generation/TruncatedTrapezoidGridGenerator.cpp
grid/generation/SurplusRefinementFunctor.cpp
grid/generation/SurplusVolumeRefinementFunctor.cpp
grid/generation/SurplusCoarseningFunctor.cpp
grid/generation/PrewaveletGridGenerator.cpp

basis/linear/noboundary/operation/datadriven/OperationMultipleEvalLinear.cpp
basis/linear/noboundary/operation/datadriven/OperationMultipleEvalIterativeSSELinear.cpp
basis/linear/noboundary/operation/datadriven/OperationMultipleEvalIterativeSPSSELinear.cpp
basis/linear/noboundary/operation/datadriven/OperationMultipleEvalIterativeAVXLinear.cpp
basis/linear/noboundary/operation/datadriven/OperationMultipleEvalIterativeSPAVXLinear.cpp
basis/linear/noboundary/operation/datadriven/OperationTestLinear.cpp
basis/linear/noboundary/operation/common/OperationEvalLinear.cpp
basis/linear/noboundary/operation/common/OperationHierarchisationLinear.cpp
basis/linear/noboundary/operation/pde/OperationLTwoDotProductLinear.cpp
basis/linear/noboundary/operation/pde/financeHW1D/OperationLBLinear.cpp
basis/linear/noboundary/operation/pde/financeHW1D/OperationLDLinear.cpp
basis/linear/noboundary/operation/pde/financeHW1D/OperationLELinear.cpp
basis/linear/noboundary/operation/pde/financeHW1D/OperationLFLinear.cpp
basis/linear/noboundary/operation/pde/OperationLaplaceLinear.cpp
basis/linear/noboundary/operation/pde/finance/OperationDeltaLinear.cpp
basis/linear/noboundary/operation/pde/finance/OperationGammaLinear.cpp
basis/linear/noboundary/operation/pde/finance/OperationDeltaLogLinear.cpp
basis/linear/noboundary/operation/pde/finance/OperationGammaLogLinear.cpp

basis/linear/noboundary/algorithm_sweep/DehierarchisationLinear.cpp
basis/linear/noboundary/algorithm_sweep/HierarchisationLinear.cpp
basis/linear/noboundary/algorithm_sweep/PhiPhiDownBBLinear.cpp
basis/linear/noboundary/algorithm_sweep/PhiPhiUpBBLinear.cpp
basis/linear/noboundary/algorithm_sweep/SqXdPhidPhiDownBBLinear.cpp
basis/linear/noboundary/algorithm_sweep/SqXdPhidPhiUpBBLinear.cpp
basis/linear/noboundary/algorithm_sweep/XdPhiPhiDownBBLinear.cpp
basis/linear/noboundary/algorithm_sweep/XdPhiPhiUpBBLinear.cpp
basis/linear/noboundary/algorithm_sweep/XPhidPhiDownBBLinear.cpp
basis/linear/noboundary/algorithm_sweep/XPhidPhiUpBBLinear.cpp
basis/linear/noboundary/algorithm_sweep/DPhiPhiDownBBLinear.cpp
basis/linear/noboundary/algorithm_sweep/DPhiPhiUpBBLinear.cpp
basis/linear/noboundary/algorithm_sweep/PhidPhiDownBBLinear.cpp
basis/linear/noboundary/algorithm_sweep/PhidPhiUpBBLinear.cpp
basis/linear/noboundary/algorithm_sweep/XPhiPhiDownBBLinear.cpp
basis/linear/noboundary/algorithm_sweep/XPhiPhiUpBBLinear.cpp

basis/linear/noboundary/common/DowndPhidPhiBBIterativeLinear.cpp

basis/linear/boundary/operation/common/OperationHierarchisationLinearBoundary.cpp
basis/linear/boundary/operation/common/OperationEvalLinearBoundary.cpp
basis/linear/boundary/operation/common/OperationUpDownTestLinearBoundary.cpp
basis/linear/boundary/operation/datadriven/OperationMultipleEvalLinearBoundary.cpp
basis/linear/boundary/operation/datadriven/OperationTestLinearBoundary.cpp
basis/linear/boundary/operation/pde/finance/OperationDeltaLinearBoundary.cpp
basis/linear/boundary/operation/pde/finance/OperationGammaLinearBoundary.cpp
basis/linear/boundary/operation/pde/finance/OperationDeltaLogLinearBoundary.cpp
basis/linear/boundary/operation/pde/finance/OperationGammaLogLinearBoundary.cpp
basis/linear/boundary/operation/pde/financeHW1D/OperationLBLinearBoundary.cpp
basis/linear/boundary/operation/pde/financeHW1D/OperationLDLinearBoundary.cpp
basis/linear/boundary/operation/pde/financeHW1D/OperationLELinearBoundary.cpp
basis/linear/boundary/operation/pde/financeHW1D/OperationLFLinearBoundary.cpp
basis/linear/boundary/operation/pde/OperationLTwoDotProductLinearBoundary.cpp
basis/linear/boundary/operation/pde/OperationLaplaceLinearBoundary.cpp

basis/linear/boundary/algorithm_sweep/DehierarchisationLinearBoundary.cpp
basis/linear/boundary/algorithm_sweep/HierarchisationLinearBoundary.cpp
basis/linear/boundary/algorithm_sweep/PhiPhiDownBBLinearBoundary.cpp
basis/linear/boundary/algorithm_sweep/PhiPhiUpBBLinearBoundary.cpp
basis/linear/boundary/algorithm_sweep/SqXdPhidPhiDownBBLinearBoundary.cpp
basis/linear/boundary/algorithm_sweep/SqXdPhidPhiUpBBLinearBoundary.cpp
basis/linear/boundary/algorithm_sweep/XdPhiPhiDownBBLinearBoundary.cpp
basis/linear/boundary/algorithm_sweep/XdPhiPhiUpBBLinearBoundary.cpp
basis/linear/boundary/algorithm_sweep/XPhidPhiDownBBLinearBoundary.cpp
basis/linear/boundary/algorithm_sweep/XPhidPhiUpBBLinearBoundary.cpp
basis/linear/boundary/algorithm_sweep/DPhiPhiDownBBLinearBoundary.cpp
basis/linear/boundary/algorithm_sweep/DPhiPhiUpBBLinearBoundary.cpp
basis/linear/boundary/algorithm_sweep/PhidPhiDownBBLinearBoundary.cpp
basis/linear/boundary/algorithm_sweep/PhidPhiUpBBLinearBoundary.cpp
basis/linear/boundary/algorithm_sweep/XPhiPhiDownBBLinearBoundary.cpp
basis/linear/boundary/algorithm_sweep/XPhiPhiUpBBLinearBoundary.cpp

basis/linear/boundary/common/DowndPhidPhiBBIterativeLinearBoundary.cpp
basis/linear/boundary/common/UpdPhidPhiBBIterativeLinearBoundary.cpp

basis/linearstretched/noboundary/operation/datadriven/OperationMultipleEvalLinearStretched.cpp
basis/linearstretched/noboundary/operation/datadriven/OperationTestLinearStretched.cpp
basis/linearstretched/noboundary/operation/common/OperationEvalLinearStretched.cpp
basis/linearstretched/noboundary/operation/common/OperationHierarchisationLinearStretched.cpp
basis/linearstretched/noboundary/operation/pde/OperationLTwoDotProductLinearStretched.cpp
basis/linearstretched/noboundary/operation/pde/OperationLaplaceLinearStretched.cpp
basis/linearstretched/noboundary/operation/pde/finance/OperationDeltaLinearStretched.cpp
basis/linearstretched/noboundary/operation/pde/finance/OperationGammaLinearStretched.cpp
basis/linearstretched/noboundary/operation/pde/finance/OperationDeltaLogLinearStretched.cpp
basis/linearstretched/noboundary/operation/pde/finance/OperationGammaLogLinearStretched.cpp

basis/linearstretched/noboundary/algorithm_sweep/DehierarchisationLinearStretched.cpp
basis/linearstretched/noboundary/algorithm_sweep/HierarchisationLinearStretched.cpp
basis/linearstretched/noboundary/algorithm_sweep/PhiPhiDownBBLinearStretched.cpp
basis/linearstretched/noboundary/algorithm_sweep/PhiPhiUpBBLinearStretched.cpp
basis/linearstretched/noboundary/algorithm_sweep/SqXdPhidPhiDownBBLinearStretched.cpp
basis/linearstretched/noboundary/algorithm_sweep/SqXdPhidPhiUpBBLinearStretched.cpp
basis/linearstretched/noboundary/algorithm_sweep/XdPhiPhiDownBBLinearStretched.cpp
basis/linearstretched/noboundary/algorithm_sweep/XdPhiPhiUpBBLinearStretched.cpp
basis/linearstretched/noboundary/algorithm_sweep/XPhidPhiDownBBLinearStretched.cpp
basis/linearstretched/noboundary/algorithm_sweep/XPhidPhiUpBBLinearStretched.cpp
basis/linearstretched/noboundary/algorithm_sweep/DPhiPhiDownBBLinearStretched.cpp
basis/linearstretched/noboundary/algorithm_sweep/DPhiPhiUpBBLinearStretched.cpp
basis/linearstretched/noboundary/algorithm_sweep/PhidPhiDownBBLinearStretched.cpp
basis/linearstretched/noboundary/algorithm_sweep/PhidPhiUpBBLinearStretched.cpp

basis/linearstretched/noboundary/common/DowndPhidPhiBBIterativeLinearStretched.cpp

basis/linearstretched/boundary/operation/common/OperationHierarchisationLinearStretchedBoundary.cpp
basis/linearstretched/boundary/operation/common/OperationEvalLinearStretchedBoundary.cpp
basis/linearstretched/boundary/operation/common/OperationUpDownTestLinearStretchedBoundary.cpp
basis/linearstretched/boundary/operation/datadriven/OperationMultipleEvalLinearStretchedBoundary.cpp
basis/linearstretched/boundary/operation/datadriven/OperationTestLinearStretchedBoundary.cpp
basis/linearstretched/boundary/operation/pde/finance/OperationDeltaLinearStretchedBoundary.cpp
basis/linearstretched/boundary/operation/pde/finance/OperationGammaLinearStretchedBoundary.cpp
basis/linearstretched/boundary/operation/pde/finance/OperationDeltaLogLinearStretchedBoundary.cpp
basis/linearstretched/boundary/operation/pde/finance/OperationGammaLogLinearStretchedBoundary.cpp
basis/linearstretched/boundary/operation/pde/OperationLTwoDotProductLinearStretchedBoundary.cpp
basis/linearstretched/boundary/operation/pde/OperationLaplaceLinearStretchedBoundary.cpp

basis/linearstretched/boundary/algorithm_sweep/DehierarchisationLinearStretchedBoundary.cpp
basis/linearstretched/boundary/algorithm_sweep/HierarchisationLinearStretchedBoundary.cpp
basis/linearstretched/boundary/algorithm_sweep/PhiPhiDownBBLinearStretchedBoundary.cpp
basis/linearstretched/boundary/algorithm_sweep/PhiPhiUpBBLinearStretchedBoundary.cpp
basis/linearstretched/boundary/algorithm_sweep/SqXdPhidPhiDownBBLinearStretchedBoundary.cpp
basis/linearstretched/boundary/algorithm_sweep/SqXdPhidPhiUpBBLinearStretchedBoundary.cpp
basis/linearstretched/boundary/algorithm_sweep/XdPhiPhiDownBBLinearStretchedBoundary.cpp
basis/linearstretched/boundary/algorithm_sweep/XdPhiPhiUpBBLinearStretchedBoundary.cpp
basis/linearstretched/boundary/algorithm_sweep/XPhidPhiDownBBLinearStretchedBoundary.cpp
basis/linearstretched/boundary/algorithm_sweep/XPhidPhiUpBBLinearStretchedBoundary.cpp
basis/linearstretched/boundary/algorithm_sweep/DPhiPhiDownBBLinearStretchedBoundary.cpp
basis/linearstretched/boundary/algorithm_sweep/DPhiPhiUpBBLinearStretchedBoundary.cpp
basis/linearstretched/boundary/algorithm_sweep/PhidPhiDownBBLinearStretchedBoundary.cpp
basis/linearstretched/boundary/algorithm_sweep/PhidPhiUpBBLinearStretchedBoundary.cpp

basis/linearstretched/boundary/common/DowndPhidPhiBBIterativeLinearStretchedBoundary.cpp
basis/linearstretched/boundary/common/UpdPhidPhiBBIterativeLinearStretchedBoundary.cpp

basis/modlinear/operation/datadriven/OperationMultipleEvalModLinear.cpp

basis/modlinear/operation/datadriven/OperationTestModLinear.cpp
basis/modlinear/operation/common/OperationEvalModLinear.cpp
basis/modlinear/operation/common/OperationHierarchisationModLinear.cpp
basis/modlinear/operation/pde/OperationLaplaceModLinear.cpp

basis/modlinear/algorithm_sweep/DehierarchisationModLinear.cpp
basis/modlinear/algorithm_sweep/HierarchisationModLinear.cpp
basis/modlinear/algorithm_sweep/dPhidPhiDownModLinear.cpp
basis/modlinear/algorithm_sweep/dPhidPhiUpModLinear.cpp
basis/modlinear/algorithm_sweep/PhiPhiDownModLinear.cpp
basis/modlinear/algorithm_sweep/PhiPhiUpModLinear.cpp

basis/poly/operation/datadriven/OperationMultipleEvalPoly.cpp
basis/poly/operation/datadriven/OperationTestPoly.cpp
basis/poly/operation/common/OperationEvalPoly.cpp
basis/poly/operation/common/OperationHierarchisationPoly.cpp

basis/modpoly/operation/datadriven/OperationMultipleEvalModPoly.cpp
basis/modpoly/operation/datadriven/OperationTestModPoly.cpp
basis/modpoly/operation/common/OperationEvalModPoly.cpp
basis/modpoly/operation/common/OperationHierarchisationModPoly.cpp

basis/modwavelet/operation/datadriven/OperationMultipleEvalModWavelet.cpp
basis/modwavelet/operation/datadriven/OperationTestModWavelet.cpp
basis/modwavelet/operation/common/OperationEvalModWavelet.cpp
basis/modwavelet/operation/common/OperationHierarchisationModWavelet.cpp

basis/modbspline/operation/datadriven/OperationMultipleEvalModBspline.cpp
basis/modbspline/operation/datadriven/OperationTestModBspline.cpp
basis/modbspline/operation/common/OperationEvalModBspline.cpp
basis/modbspline/operation/common/OperationHierarchisationModBspline.cpp

basis/prewavelet/operation/datadriven/OperationMultipleEvalPrewavelet.cpp
basis/prewavelet/operation/datadriven/OperationTestPrewavelet.cpp
basis/prewavelet/operation/common/OperationEvalPrewavelet.cpp
basis/prewavelet/operation/common/OperationConvertPrewavelet.cpp
basis/prewavelet/operation/common/OperationHierarchisationPrewavelet.cpp

operation/pde/OperationParabolicPDESolverSystemDirichlet.cpp
operation/pde/OperationParabolicPDESolverSystemNeumann.cpp
operation/pde/OperationParabolicPDESolverSystem.cpp
operation/pde/OperationEllipticPDESolverSystem.cpp
operation/pde/OperationEllipticPDESolverSystemDirichlet.cpp
operation/pde/OperationEllipticPDESolverSystemNeumann.cpp

algorithm/datadriven/DMSystemMatrix.cpp
algorithm/datadriven/DMSystemMatrixVectorizedIdentity.cpp
algorithm/datadriven/DMSystemMatrixSPVectorizedIdentity.cpp
algorithm/datadriven/DMWeightMatrix.cpp
algorithm/datadriven/AlgorithmAdaBoost.cpp

algorithm/datadriven/DMSystemMatrix.cpp

algorithm/pde/BlackScholesParabolicPDESolverSystem.cpp
algorithm/pde/ModifiedBlackScholesParabolicPDESolverSystem.cpp
algorithm/pde/HullWhiteParabolicPDESolverSystem.cpp
algorithm/pde/BlackScholesParabolicPDESolverSystemEuropean.cpp
algorithm/pde/BlackScholesParabolicPDESolverSystemEuropeanParallelOMP.cpp
algorithm/pde/HeatEquationParabolicPDESolverSystem.cpp
algorithm/pde/HeatEquationParabolicPDESolverSystemParallelOMP.cpp
algorithm/pde/LaserHeatEquationParabolicPDESolverSystemParallelOMP2D.cpp
algorithm/pde/PoissonEquationEllipticPDESolverSystemDirichlet.cpp
algorithm/pde/StdUpDown.cpp
algorithm/pde/UpDownOneOpDim.cpp
algorithm/pde/UpDownTwoOpDims.cpp
algorithm/pde/UpDownOneOpDimWithShadow.cpp

application/common/ScreenOutput.cpp
application/pde/PDESolver.cpp
application/pde/ParabolicPDESolver.cpp
application/pde/EllipticPDESolver.cpp
application/pde/BlackScholesSolver.cpp
application/pde/BlackScholesSolverWithStretching.cpp
application/pde/HullWhiteSolver.cpp
application/pde/BlackScholesHullWhiteSolver.cpp
application/pde/HeatEquationSolver.cpp
application/pde/HeatEquationSolverWithStretching.cpp
application/pde/LaserHeatEquationSolver2D.cpp
application/pde/PoissonEquationSolver.cpp
application/finance/VariableDiscountFactor.cpp

solver/sle/ConjugateGradients.cpp
solver/sle/ConjugateGradientsSP.cpp
solver/sle/BiCGStab.cpp
solver/ode/Euler.cpp
solver/ode/CrankNicolson.cpp
solver/ode/AdamsBashforth.cpp
solver/ode/VarTimestep.cpp
solver/ode/StepsizeControlH.cpp
solver/ode/StepsizeControlBDF.cpp
solver/ode/StepsizeControlEJ.cpp

tools/common/StdNormalDistribution.cpp
tools/common/GridPrinter.cpp
tools/common/GridPrinterForStretching.cpp
tools/common/SGppStopwatch.cpp
tools/common/EvalCuboidGenerator.cpp
tools/common/EvalCuboidGeneratorForStretching.cpp
tools/finance/IOToolBonnSG.cpp

""")



sg_env = env.Clone()

sg_env.Append(CPPPATH=['#/src/sgpp'])

src_objs = sg_env.SharedObject(srcs)
Export('src_objs')

libsgpp = sg_env.SharedLibrary(target="sgpp", source = src_objs)
libsgppa = sg_env.StaticLibrary(target="sgpp", source = src_objs)
#libsgpp = sg_env.SharedLibrary(target="sgpp", source = srcs + src_objs, SHLIBPREFIX = '_')
Export('libsgpp')

Return('libsgpp libsgppa')
